<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE>An Introduction to Display Editing with Vi - Section 2</TITLE>
<!-- Sccsid @(#)paper-2.html	1.6 (gritter) 3/8/02 -->
<!-- This file was originally generated by unroff 1.0, 03/14/97 13:33:36. -->
<!-- Derived from the FreeBSD document collection. -->
<LINK REL=stylesheet TYPE="text/css" HREF="paper.css">
</HEAD><BODY>
<H2><A NAME="section9">2.</A>&nbsp;&nbsp;Moving around in the file
</H2>
<H2><A NAME="section10">2.1.</A>&nbsp;&nbsp;Scrolling and paging
</H2>
<P>
&nbsp;&nbsp;The editor has a number of commands for moving around in the file.
The most useful of these is generated by hitting the control and D keys
at the same time, a control-D or '^D'.  We will use this two character
notation for referring to these control keys from now on.  You may have
a key labelled '^' on your terminal.  This key will be represented as '&uarr;'
in this document; '^' is exclusively used as part of the '^x' notation
for control characters
(<A HREF="paper-notes.html#2-1">footnote 2-1</A>).
<P>
&nbsp;&nbsp;As you know now if you tried hitting <B>^D</B>, this command scrolls down in
the file.  The <B>D</B> thus stands for down.  Many editor commands are mnemonic
and this makes them much easier to remember.  For instance the command
to scroll up is <B>^U</B>.  Many dumb terminals can't scroll up at all, in which
case hitting <B>^U</B> clears the screen and refreshes it
with a line which is farther back in the file at the top.
<P>
&nbsp;&nbsp;If you want to see more of the file below where you are, you can
hit <B>^E</B> to expose one more line at the bottom of the screen,
leaving the cursor where it is.
The command <B>^Y</B> (which is hopelessly non-mnemonic, but next to <B>^U</B>
on the keyboard) exposes one more line at the top of the screen.
<P>
&nbsp;&nbsp;There are other ways to move around in the file; the keys <B>^F</B> and <B>^B</B>
move forward and backward a page,
keeping a couple of lines of continuity between screens
so that it is possible to read through a file using these rather than
<B>^D</B> and <B>^U</B> if you wish.
<P>
&nbsp;&nbsp;Notice the difference between scrolling and paging.  If you are trying
to read the text in a file, hitting <B>^F</B> to move forward a page
will leave you only a little context to look back at.  Scrolling on the
other hand leaves more context, and happens more smoothly.  You can continue
to read the text as scrolling is taking place.
<H2><A NAME="section11">2.2.</A>&nbsp;&nbsp;Searching, goto, and previous context
</H2>
<P>
&nbsp;&nbsp;Another way to position yourself in the file is by giving the editor a string
to search for.  Type the character <B>/</B> followed by a string of characters
terminated by CR.  The editor will position the cursor
at the next occurrence of this string.
Try hitting <B>n</B> to then go to the next occurrence of this string.
The character <B>?</B> will search backwards from where you are, and is
otherwise like <B>/</B>
(<A HREF="paper-notes.html#2-2">footnote 2-2</A>).
<P>
&nbsp;&nbsp;If the search string you give the editor is not present in the
file the editor will print
a diagnostic on the last line of the screen, and the cursor will be returned
to its initial position.
<P>
&nbsp;&nbsp;If you wish the search to match only at the beginning of a line, begin
the search string with an <B>&uarr;</B>.  To match only at the end of
a line, end the search string with a <B>$</B>.
Thus <B>/&uarr;search</B>CR will search for the word 'search' at
the beginning of a line, and <B>/last$</B>CR searches for the
word 'last' at the end of a line
(<A HREF="paper-notes.html#2-3">footnote 2-3</A>).
<P>
&nbsp;&nbsp;The command <B>G</B>, when preceded by a number will position the cursor
at that line in the file.
Thus <B>1G</B> will move the cursor to
the first line of the file.  If you give <B>G</B> no count, then it moves
to the end of the file.
<P>
&nbsp;&nbsp;If you are near the end of the file, and the last line is not at the bottom
of the screen, the editor will place only the character '~' on each remaining
line.  This indicates that the last line in the file is on the screen;
that is, the '~' lines are past the end of the file.
<P>
&nbsp;&nbsp;You can find out the state of the file you are editing by typing a <B>^G</B>.
The editor will show you the name of the file you are editing, the number
of the current line, the number of lines in the buffer, and the percentage
of the way through the buffer which you are.
Try doing this now, and remember the number of the line you are on.
Give a <B>G</B> command to get to the end and then another <B>G</B> command
to get back where you were.
<P>
&nbsp;&nbsp;You can also get back to a previous position by using the command
<B>``</B> (two back quotes).
This is often more convenient than <B>G</B> because it requires no advance
preparation.
Try giving a <B>G</B> or a search with <B>/</B> or <B>?</B> and then a
<B>``</B> to get back to where you were.  If you accidentally hit
<B>n</B> or any command which moves you far away from a context of interest, you
can quickly get back by hitting <B>``</B>.
<H2><A NAME="section12">2.3.</A>&nbsp;&nbsp;Moving around on the screen
</H2>
<P>
&nbsp;&nbsp;Now try just moving the cursor around on the screen.
If your terminal has arrow keys (4 or 5 keys with arrows
going in each direction) try them and convince yourself
that they work.
If you don't have working arrow keys, you can always use
<B>h</B>,
<B>j</B>,
<B>k</B>,
and
<B>l</B>.
Experienced users of
<I>vi
</I>prefer these keys to arrow keys,
because they are usually right underneath their fingers.
<P>
&nbsp;&nbsp;Hit the <B>+</B> key.  Each time you do, notice that the cursor
advances to the next line in the file, at the first non-white position
on the line.  The <B>-</B> key is like <B>+</B> but goes the other way.
<P>
&nbsp;&nbsp;These are very common keys for moving up and down lines in the file.
Notice that if you go off the bottom or top with these keys then the
screen will scroll down (and up if possible) to bring a line at a time
into view.  The RETURN key has the same effect as the <B>+</B>
key.
<P>
&nbsp;&nbsp;<I>Vi
</I>also has commands to take you to the top, middle and bottom of the screen.
<B>H</B> will take you to the top (home) line on the screen.
Try preceding it with a
number as in <B>3H</B>.
This will take you to the third line on the screen.
Many
<I>vi
</I>commands take preceding numbers and do interesting things with them.
Try <B>M</B>,
which takes you to the middle line on the screen,
and <B>L</B>,
which takes you to the last line on the screen.
<B>L</B> also takes counts, thus
<B>5L</B> will take you to the fifth line from the bottom.
<H2><A NAME="section13">2.4.</A>&nbsp;&nbsp;Moving within a line
</H2>
<P>
&nbsp;&nbsp;Now try picking a word on some line on the screen, not the
first word on the line.
move the cursor using RETURN and <B>-</B> to be on the line where
the word is.
Try hitting the <B>w</B> key.  This will advance the cursor to the
next word on the line.
Try hitting the <B>b</B> key to back up words
in the line.
Also try the <B>e</B> key which advances you to the end of the current
word rather than to the beginning of the next word.
Also try SPACE (the space bar) which moves right one character
and the BS (backspace or <B>^H</B>) key which moves left one character.
The key <B>h</B> works as <B>^H</B> does and is useful if you don't have
a BS key.
(Also, as noted just above, <B>l</B> will move to the right.)
<P>
&nbsp;&nbsp;If the line had punctuation in it you may have noticed that
that the <B>w</B> and <B>b</B>
keys stopped at each group of punctuation.  You can also go back and
forwards words without stopping at punctuation by using <B>W</B> and <B>B</B>
rather than the lower case equivalents.  Think of these as bigger words.
Try these on a few lines with punctuation to see how they differ from
the lower case <B>w</B> and <B>b</B>.
<P>
&nbsp;&nbsp;The word keys wrap around the end of line,
rather than stopping at the end.  Try moving to a word on a line below
where you are by repeatedly hitting <B>w</B>.
<H2><A NAME="section14">2.5.</A>&nbsp;&nbsp;Summary
</H2>
<DIV STYLE="margin-left: 20pt;">
<TABLE>
<TR><TD>SPACE&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>advance the cursor one position</TD></TR>
<TR><TD><B>^B</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>backwards to previous page</TD></TR>
<TR><TD><B>^D</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>scrolls down in the file</TD></TR>
<TR><TD><B>^E</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>exposes another line at the bottom</TD></TR>
<TR><TD><B>^F</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>forward to next page</TD></TR>
<TR><TD><B>^G</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>tell what is going on</TD></TR>
<TR><TD><B>^H</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>backspace the cursor</TD></TR>
<TR><TD><B>^N</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>next line, same column</TD></TR>
<TR><TD><B>^P</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>previous line, same column</TD></TR>
<TR><TD><B>^U</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>scrolls up in the file</TD></TR>
<TR><TD><B>^Y</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>exposes another line at the top</TD></TR>
<TR><TD><B>+</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>next line, at the beginning</TD></TR>
<TR><TD><B>-</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>previous line, at the beginning</TD></TR>
<TR><TD><B>/</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>scan for a following string forwards</TD></TR>
<TR><TD><B>?</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>scan backwards</TD></TR>
<TR><TD><B>B</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>back a word, ignoring punctuation</TD></TR>
<TR><TD><B>G</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>go to specified line, last default</TD></TR>
<TR><TD><B>H</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>home screen line</TD></TR>
<TR><TD><B>M</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>middle screen line</TD></TR>
<TR><TD><B>L</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>last screen line</TD></TR>
<TR><TD><B>W</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>forward a word, ignoring punctuation</TD></TR>
<TR><TD><B>b</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>back a word</TD></TR>
<TR><TD><B>e</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>end of current word</TD></TR>
<TR><TD><B>n</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>scan for next instance of / or ? pattern</TD></TR>
<TR><TD><B>w</B>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>word after this word</TD></TR>
</TABLE>
</DIV>
<H2><A NAME="section15">2.6.</A>&nbsp;&nbsp;View
</H2>
<P>
&nbsp;&nbsp;If you want to use the editor to look at a file,
rather than to make changes,
invoke it as
<I>view
</I>instead of
<I>vi</I>.
This will set the
<I>readonly
</I>option which will prevent you from
accidently overwriting the file.
<P>
<A HREF="paper.html#toc">Table of Contents</A>
&nbsp;&nbsp;&nbsp;&nbsp;
<A HREF="paper-3.html">Next: Making simple changes</A>
</BODY>
</HTML>
