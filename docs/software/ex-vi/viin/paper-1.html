<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE>An Introduction to Display Editing with Vi - Section 1</TITLE>
<!-- Sccsid @(#)paper-1.html	1.10 (gritter) 3/3/02 -->
<!-- This file was originally generated by unroff 1.0, 03/14/97 13:33:36. -->
<!-- Derived from the FreeBSD document collection. -->
<LINK REL=stylesheet TYPE="text/css" HREF="paper.css">
</HEAD>
<BODY>
<H2><A NAME="section1">1.</A>&nbsp;&nbsp;Getting started
</H2>
<P>
&nbsp;&nbsp;This document provides a quick introduction to
<I>vi.
</I>(Pronounced <I>vee-eye</I>.)
You should be running
<I>vi
</I>on a file you are familiar with while you are reading this.
The first part of this document (sections 1 through 5)
describes the basics of using
<I>vi.
</I>Some topics of special interest are presented
in <A HREF="paper-6.html">section 6</A>, and 
some nitty-gritty details of how the editor functions
are saved for <A HREF="paper-7.html">section 7</A>
<!-- note: was "section 7" originally -->
to avoid cluttering the presentation here.
<P>
&nbsp;&nbsp;There is also a short appendix here,
which gives for each character the
special meanings which this character has in <I>vi</I>
<I>(Note: this has been moved to the</I>
<A HREF="../vi.html">vi<I>(1)</I></A><I> manual page)</I>.
Attached to this document should be a
<A HREF="quickref.pdf">quick reference card</A>.
This card summarizes the commands of
<I>vi
</I>in a very compact format.
You should have the card handy while you are learning <I>vi.</I>
<H2><A NAME="section2">1.1.</A>&nbsp;&nbsp;Specifying terminal type
</H2>
<P>
&nbsp;&nbsp;Before you can start
<I>vi</I> you must tell the system what kind
of terminal you are using.
<I>Note: There might be a predefined setting.
Try this by typing the following command:</I>
<DL><DT><DD>
<PRE>
% <B>echo $TERM</B>
xterm
</PRE>
</DL>
<I>If a single word is printed as in our example,
continue without change.
If, however, something like </I>TERM: Undefined variable<I>
is displayed,
or if you get no output at all,
you have to find out what terminal type you are using.</I>
<P>
&nbsp;&nbsp;Here is a (necessarily incomplete)
list of terminal type codes.
If your terminal does not appear here, you should consult with one of
the staff members on your system to find out the code for your terminal.
If your terminal does not have a code, one can be assigned and a description
for the terminal can be created.
<P>
<TABLE ALIGN=CENTER>
<TR>
<TH ALIGN=LEFT>Code</TH><TH ALIGN=LEFT>Full name</TH><TH ALIGN=LEFT>Type</TH>
<TR><TD>2621&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Hewlett-Packard 2621A/P&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Intelligent</TD></TR>
<TR><TD>2645&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Hewlett-Packard 264x&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Intelligent</TD></TR>
<TR><TD>act4&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Microterm ACT-IV&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Dumb</TD></TR>
<TR><TD>act5&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Microterm ACT-V&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Dumb</TD></TR>
<TR><TD>adm3a&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Lear Siegler ADM-3a&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Dumb</TD></TR>
<TR><TD>adm31&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Lear Siegler ADM-31&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Intelligent</TD></TR>
<TR><TD>c100&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Human Design Concept 100&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Intelligent</TD></TR>
<TR><TD>dm1520&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Datamedia 1520&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Dumb</TD></TR>
<TR><TD>dm2500&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Datamedia 2500&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Intelligent</TD></TR>
<TR><TD>dm3025&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Datamedia 3025&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Intelligent</TD></TR>
<TR><TD>fox&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Perkin-Elmer Fox&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Dumb</TD></TR>
<TR><TD>h1500&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Hazeltine 1500&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Intelligent</TD></TR>
<TR><TD>h19&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Heathkit h19&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Intelligent</TD></TR>
<TR><TD>i100&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Infoton 100&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Intelligent</TD></TR>
<TR><TD>mime&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Imitating a smart act4&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Intelligent</TD></TR>
<TR><TD>t1061&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Teleray 1061&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Intelligent</TD></TR>
<TR><TD>vt52&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Dec VT-52&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>Dumb</TD></TR>
</TABLE>
<P>
&nbsp;&nbsp;Suppose for example that you have a Hewlett-Packard HP2621A
terminal.  The code used by the system for this terminal is '2621'.
In this case you can use one of the following commands to tell the system
the type of your terminal:
<DL><DT><DD>
<PRE>
% <B>setenv TERM</B> 2621
</PRE>
</DL>
This command works with the
<I>csh
</I>shell.
If you are using the standard Bourne shell
<I>sh
</I>then you should give the commands
<DL><DT><DD>
<PRE>
$ <B>TERM=</B>2621
$ <B>export TERM</B>
</PRE>
</DL>
<P>
&nbsp;&nbsp;If you want to arrange to have your terminal type set up automatically
when you log in, you can use the
<I>tset
</I>program.
If you dial in on a
<I>mime</I>,
but often use hardwired ports, a typical line for your
<I>.login
</I>file (if you use csh) would be
<DL><DT><DD>
<PRE>
% <B>setenv TERM `tset - -d </B>mime<B>`</B>
</PRE>
</DL>
or for your
<I>.profile
</I>file (if you use sh)
<DL><DT><DD>
<PRE>
$ <B>TERM=`tset - -d </B>mime<B>`</B>
</PRE>
</DL>
<I>Tset
</I>knows which terminals are hardwired to each port
and needs only to be told that when you dial in you
are probably on a
<I>mime</I>.
<I>Tset
</I>is usually used to change the erase and kill characters, too.
<H2><A NAME="section3">1.2.</A>&nbsp;&nbsp;Editing a file
</H2>
<P>
&nbsp;&nbsp;After telling the system which kind of terminal you have, you should
make a copy of a file you are familiar with, and run
<I>vi
</I>on this file, giving the command
<DL><DT><DD>
<PRE>
% <B>vi</B> <I>name</I>
</PRE>
</DL>
replacing <I>name</I> with the name of the copy file you just created.
The screen should clear and the text of your file should appear on the
screen. If something else happens refer to the
<A HREF="paper-notes.html#1-1">footnote 1-1</A>.
<H2><A NAME="section4">1.3.</A>&nbsp;&nbsp;The editor's copy: the buffer
</H2>
<P>
&nbsp;&nbsp;The editor does not directly modify the file which you are editing. 
Rather, the editor makes a copy of this file, in a place called the
<I>buffer,
</I>and remembers the file's
name.  You do not affect the contents of the file unless and until you
write the changes you make back into the original file.
<H2><A NAME="section5">1.4.</A>&nbsp;&nbsp;Notational conventions
</H2>
<P>
&nbsp;&nbsp;In our examples, input which must be typed as is will be presented in
<B>bold face</B>. Text which should be replaced with appropriate input
will be given in <I>italics</I>.  We will represent special characters
in SMALL CAPITALS.
<H2><A NAME="section6">1.5.</A>&nbsp;&nbsp;Arrow keys
</H2>
<P>
&nbsp;&nbsp;The editor command set is independent of the terminal
you are using.  On most terminals with cursor positioning keys, these keys
will also work within the editor.
If you don't have cursor positioning keys, or even if you do, you can use
the <B>h j k</B> and <B>l</B> keys as cursor positioning
keys (these are labelled with arrows on an
<I>adm3a)</I>
(<A HREF="paper-notes.html#1-2">footnote 1-2</A>).
<P>
&nbsp;&nbsp;(Particular note for the HP2621: on this terminal the function keys
must be <I>shifted</I> (ick) to send to the machine, otherwise they
only act locally.  Unshifted use will leave the cursor positioned
incorrectly.)
<H2><A NAME="section7">1.6.</A>&nbsp;&nbsp;Special characters: ESC, CR and DEL
</H2>
<P>
&nbsp;&nbsp;Several of these special characters are very important, so be sure to
find them right now.  Look on your keyboard for a key labelled ESC
or ALT.  It should be near the upper left corner of your terminal.
Try hitting this key a few times.  The editor will ring the bell
to indicate that it is in a quiescent state
(<A HREF="paper-notes.html#1-3">footnote 1-3</A>).
Partially formed commands are cancelled by ESC, and when you insert
text in the file you end the text insertion
with ESC.  This key is a fairly
harmless one to hit, so you can just hit it if you don't know
what is going on until the editor rings the bell.
<P>
&nbsp;&nbsp;The CR or RETURN key is important because it is used
to terminate certain commands.
It is usually at the right side of the keyboard,
and is the same command used at the end of each shell command.
<P>
&nbsp;&nbsp;Another very useful key is the DEL or RUB key, which generates
an interrupt, telling the editor to stop what it is doing.
It is a forceful way of making the editor listen
to you, or to return it to the quiescent state if you don't know or don't
like what is going on.  Try hitting the '/' key on your terminal.  This
key is used when you want to specify a string to be searched for.  The
cursor should now be positioned at the bottom line of the terminal after
a '/' printed as a prompt.  You can get the cursor back to the current
position by hitting the DEL or RUB key; try this now
(<A HREF="paper-notes.html#1-4">footnote 1-4</A>).
From now on we will simply refer to hitting the DEL or RUB
key as &#147;sending an interrupt&#148;
(<A HREF="paper-notes.html#1-5">footnote 1-5</A>).
<P>
&nbsp;&nbsp;The editor often echoes your commands on the last line of the terminal.
If the cursor is on the first position of this last line, then the editor
is performing a computation, such as computing a new position in the
file after a search or running a command to reformat part of the buffer.
When this is happening you can stop the editor by
sending an interrupt.
<H2><A NAME="section8">1.7.</A>&nbsp;&nbsp;Getting out of the editor
</H2>
<P>
&nbsp;&nbsp;After you have worked with this introduction for a while, and you wish
to do something else, you can give the command <B>ZZ</B>
to the editor.
This will write the contents of the editor's buffer back into
the file you are editing, if you made any changes, and then quit from
the editor.  You can also end an editor
session by giving the command <B>:q!</B>CR
(<A HREF="paper-notes.html#1-6">footnote 1-6</A>);
this is a dangerous but occasionally essential
command which ends the editor session and discards all your changes.
You need to know about this command in case you change the editor's
copy of a file you wish only to look at.  Be very careful
not to give this command when you really want to save
the changes you have made.
<P>
<A HREF="paper.html#toc">Table of Contents</A>
&nbsp;&nbsp;&nbsp;&nbsp;
<A HREF="paper-2.html">Next: Moving around in the file</A>
</BODY>
</HTML>
